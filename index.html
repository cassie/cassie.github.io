<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>郭欣欣 &shy; — &shy; Cassie Guo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAAF0lEQVRIx2NgGAWjYBSMglEwCkbBSAcACBAAAeaR9cIAAAAASUVORK5CYII=" rel="icon" type="image/x-icon" />

    <style>
      html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        width: 100%;
        position: relative;
        overflow: hidden
      }

      #canvas {
        position: absolute;
        margin: auto;
        max-width: 100%;
        max-height: 100%;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0
      }
    </style>
    <script src="//fast.eager.io/cOU5XXMZLV.js"></script>
  </head>
  <body>
    <canvas id="canvas"></canvas>

    <script src="coffeescript.js"></script>
    <script type="text/coffeescript">
      text = String.fromCharCode(37101) + String.fromCharCode(27427) + String.fromCharCode(27427)

      context = canvas.getContext '2d'

      w = undefined
      h = undefined

      image = new Image()
      image.onload = ->
        w = this.width
        h = this.height
        start()
      image.src = 'kandinsky.jpg'

      position = 0
      start = ->
        setInterval ->
          position = (position + 1) % w
          draw()
        , 50

      draw = ->
        canvas.width = w
        canvas.height = h
        context.fillStyle = '#ffffff'
        context.font = '400px/400px serif'
        context.fillText text, ((w - context.measureText(text).width) / 2), h - 100
        context.globalCompositeOperation = 'source-atop'
        context.drawImage image, 0 - position, 0, w, h
        context.drawImage image, w - position, 0, w, h
    </script>
  </body>
</html>
